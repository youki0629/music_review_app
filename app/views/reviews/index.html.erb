<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="mb-0">レビュー一覧</h1>
    <%= link_to "新しいレビューを投稿", new_review_path, 
        class: "btn btn-primary" %>
  </div>

  <% if @reviews.any? %>
    <div class="row">
      <% @reviews.each do |review| %>
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">
                <%= link_to review.title, review_path(review), 
                    class: "text-decoration-none" %>
              </h5>
              <p class="card-text">
                <small class="text-muted">アーティスト:</small><br>
                <%= review.artist %>
              </p>
              <p class="card-text">
                <small class="text-muted">ジャンル:</small><br>
                <%= review.genre %>
              </p>
              <p class="card-text">
                <small class="text-muted">
                  <%= review.created_at.strftime("%Y年%m月%d日") %>
                </small>
              </p>
            </div>
            <div class="card-footer">
              <%= link_to '詳細', review, 
                  class: "btn btn-outline-primary btn-sm me-1" %>
              <%= link_to '編集', edit_review_path(review), 
                  class: "btn btn-outline-secondary btn-sm me-1" %>
              <%= link_to '削除', review, 
                  class: "btn btn-outline-danger btn-sm",
                  data: { 
                    turbo_method: :delete, 
                    turbo_confirm: '本当に削除しますか？' 
                  } %>
            </div>
          </div>
        </div>
      <% end %>
    </div>

    <%= paginate @reviews, theme: 'bootstrap-5' %>
  <% else %>
    <div class="text-center py-5">
      <p class="text-muted mb-3">まだレビューが投稿されていません。</p>
      <%= link_to "最初のレビューを投稿する", new_review_path, 
          class: "btn btn-primary" %>
    </div>
  <% end %>
</div>